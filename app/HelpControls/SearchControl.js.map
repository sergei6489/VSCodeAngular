{"version":3,"sources":["HelpControls/SearchControl.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;YAgBA;gBAQI,uBAA0B,IAAU;oBAAV,SAAI,GAAJ,IAAI,CAAM;oBAJ1B,gBAAW,GAAyB,IAAI,mBAAY,EAAU,CAAC;oBAClE,eAAU,GAAkB,EAAE,CAAC;gBAItC,CAAC;gBAED,+BAAO,GAAP,UAAQ,KAAK;oBAAb,iBAUC;oBATG,KAAK,GAAG,KAAK,IAAI,SAAS,GAAG,EAAE,GAAG,KAAK,CAAC;oBACxC,IAAI,CAAC,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC,GAAG,GAAC,QAAQ,GAAG,KAAK,CAAC,CAAC,GAAG,CAAC,UAAA,GAAG;wBAC5C,OAAA,GAAG,CAAC,IAAI,EAAE;oBAAV,CAAU,CAAC,CAAC,GAAG,CAAC,UAAC,UAAyB;wBAC1C,KAAI,CAAC,UAAU,GAAG,EAAE,CAAC;wBACrB,UAAU,CAAC,OAAO,CAAC,UAAC,IAAY,IAAO,KAAI,CAAC,UAAU,CAAC,IAAI,CAAC,IAAI,CAAC,CAAA,CAAC,CAAC,CAAC,CAAC;wBACrE,EAAE,CAAC,CAAC,UAAU,CAAC,MAAM,IAAI,CAAC,IAAI,CAAC,MAAM,CAAC,KAAI,CAAC,OAAO,CAAC,aAAa,CAAC,CAAC,MAAM,EAAE,CAAC,QAAQ,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC;4BAC1F,MAAM,CAAC,KAAI,CAAC,OAAO,CAAC,aAAa,CAAC,CAAC,QAAQ,CAAC,QAAQ,CAAC,CAAC;wBAC1D,CAAC;oBACD,CAAC,CAAC,CAAC,SAAS,EAAE,CAAC;gBACvB,CAAC;gBAED,kCAAU,GAAV,UAAW,KAAK;oBACZ,IAAI,MAAM,GAAG,KAAK,CAAC,MAAM,IAAI,KAAK,CAAC,UAAU,IAAI,KAAK,CAAC,aAAa,CAAC;oBACrE,IAAI,CAAC,KAAK,GAAG,MAAM,CAAC,SAAS,CAAC;oBAC9B,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;gBACtC,CAAC;gBAED,+BAAO,GAAP,UAAQ,KAAK;oBACT,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;oBAC7B,IAAI,CAAC,OAAO,CAAC,KAAK,CAAC,CAAC;gBACxB,CAAC;gBAED,6BAAK,GAAL;oBACI,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;gBAC7B,CAAC;gBAnCD;oBAAC,YAAK,EAAE;;2DAAA;gBACR;oBAAC,YAAK,EAAE;;4DAAA;gBACR;oBAAC,YAAK,EAAE;;0DAAA;gBACR;oBAAC,aAAM,EAAE;;kEAAA;gBAET;oBAAC,gBAAS,CAAC,SAAS,CAAC;;8DAAA;gBAnBzB;oBAAC,gBAAS,CAAC;wBACP,QAAQ,EAAE,kBAAkB;wBAC5B,QAAQ,EAAC,6zBASc;qBAC1B,CAAC;;iCAAA;gBAsCF,oBAAC;YAAD,CArCA,AAqCC,IAAA;YArCD,yCAqCC,CAAA","file":"HelpControls/SearchControl.js","sourcesContent":["///<reference path=\"../typings/tsd.d.ts\" />\r\nimport {Component, ElementRef, ViewChild, Input, Output, EventEmitter } from '@angular/core'\r\nimport {Http} from \"@angular/http\"\r\n@Component({\r\n    selector: 'comboBoxTemplate',\r\n    template:`<label class=\"label-Margin\">{{text}}:</label>\r\n                    <div class=\"input-group\">\r\n                        <input [(ngModel)]=\"value\" class=\"form-control\" (input)=\"Changed($event.target.value)\"/>\r\n                        <div class=\"input-group-btn\">\r\n                            <button type=\"button\" (click)=\"click()\"  class=\"btn btn-default dropdown-toggle\" data-toggle=\"dropdown\"><span class=\"caret\"></span></button>\r\n                            <ul #menuRef class=\"dropdown-menu dropdown-menu-right\" role=\"menu\">\r\n                                <li *ngFor=\"#direction of directions\" class=\"input-lg\"><a href=\"javascript:void(0)\" (click)=\"selectItem($event)\" >{{direction}}</a></li>\r\n                            </ul>\r\n                        </div>\r\n                    </div>`\r\n})\r\nexport class SearchControl {\r\n    @Input() text: string;\r\n    @Input() value: string;\r\n    @Input() url: string;\r\n    @Output() valueChange: EventEmitter<String> = new EventEmitter<String>();\r\n    public directions: Array<string> = [];\r\n    @ViewChild('menuRef') menuRef: ElementRef;\r\n\r\n    public constructor(public http: Http) {\r\n    }\r\n\r\n    getData(value) {\r\n        value = value == undefined ? \"\" : value;\r\n        this.http.get(this.url+\"?data=\" + value).map(res =>\r\n            res.json()).map((directions: Array<string>) => {\r\n            this.directions = [];\r\n            directions.forEach((data: string) => { this.directions.push(data) });\r\n            if (directions.length != 0 && !jQuery(this.menuRef.nativeElement).parent().hasClass('open')) {\r\n                jQuery(this.menuRef.nativeElement).dropdown('toggle');\r\n            }\r\n            }).subscribe();\r\n    }\r\n\r\n    selectItem(event) {\r\n        var target = event.target || event.srcElement || event.currentTarget;\r\n        this.value = target.innerText;\r\n        this.valueChange.emit(this.value);\r\n    }\r\n\r\n    Changed(value) {\r\n        this.valueChange.emit(value);\r\n        this.getData(value);\r\n    }\r\n\r\n    click() {\r\n        this.getData(this.value);\r\n    }\r\n}"],"sourceRoot":"/source/"}